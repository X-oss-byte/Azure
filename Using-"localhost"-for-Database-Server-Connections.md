When an application is using “localhost” as the server name for their database connections it will only work when running on the same machine as the database server. Prior to migration, this "localhost" reference should be changed to a server name instead, or the migrated site running in the Azure cloud will not be able to connect to the database. Changing "localhost" to a server name before attempting migration greatly simplifies troubleshooting for database server connection configuration and may allow the site to work immediately post-migrate without any additional manual changes.
 
There are a few possible configurations you might choose for your database connection:
## Database remains in place and is internet accessible (i.e. the Azure site will be able to connect to it directly)
* If the database server can be accessed from anywhere using the correct connection details, then simply change the "localhost" db server reference(s) to use the fully qualified database server machine name instead. Confirm that the local site still works after these changes and before migration, otherwise the database server configuration is not correct for such remote connections and should be fixed prior to attempting migration. You may choose to skip Hybrid Connection setup during migration if using an internet facing database server.
## Database remains in place and is behind a network
* Hybrid connections features allows an Azure website to securely connect to an in-network database server without broadly opening the server to outside-network traffic. To use this feature you should change the "localhost" db server reference(s) to use the database server machine name instead, and then choose to configure Hybrid Connections during the migration. Confirm that the site still works locally with these changes before migration, otherwise the database server configuration will not work for a Hybrid Connection either. Once you have the local site working, use the Migration Assistant and choose to configure Hybrid Connections on the Azure Options page - the database server value used here must exactly match the server value used in the site db connection configuration.
## Database migration is occurring as a separate action
* Migrate the database separately and then change the connection string reference(s) to point to the migrated database either before or after the migration (understanding that the Azure site may not be functional until after this point). [Learn more about Azure Database Migration Service](https://azure.microsoft.com/en-us/services/database-migration/)
